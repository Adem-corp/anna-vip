function slideUp(e,t=400){e.style.height=e.offsetHeight+"px",e.style.boxSizing="border-box",e.style.overflow="hidden",requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.style.transition=`height ${t}ms ease`,e.style.height=0})}),setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition")},t)}function slideDown(e,t=400){e.style.removeProperty("display");let n=getComputedStyle(e).display,o=("none"===n&&(n="block"),e.style.display=n,e.offsetHeight);e.style.height=0,e.style.overflow="hidden",requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.style.transition=`height ${t}ms ease`,e.style.height=o+"px"})}),setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition")},t)}function slideToggle(e,t=500){("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)}function getSiblings(t){var n=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&n.push(e),e=e.nextSibling}return n}function setTelMask(){[].forEach.call(document.querySelectorAll('[type="tel"]'),function(s){let a;function e(e){e.keyCode&&(a=e.keyCode),this.selectionStart<3&&e.preventDefault();let t=s.placeholder,n=0,o=t.replace(/\D/g,""),r=this.value.replace(/\D/g,""),i=t.replace(/[_\d]/g,function(e){return n<r.length?r.charAt(n++)||o.charAt(n):e});-1!=(n=i.indexOf("_"))&&(n<5&&(n=3),i=i.slice(0,n));var l=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||47<a&&a<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}s.addEventListener("input",e,!1),s.addEventListener("focus",e,!1),s.addEventListener("blur",e,!1),s.addEventListener("keydown",e,!1)})}function sendForms(){let i=Date.now(),l=[];document.querySelectorAll("input, textarea").forEach(e=>{let t=null;e.addEventListener("input",()=>{var e=Date.now();t&&l.push(e-t),t=e})}),document.querySelectorAll("form.js-form").forEach(function(r){r.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(r),t=r.getAttribute("name");let n=r.querySelector("button[type=submit]"),o=n.innerHTML;t&&(e.append("form_name",t),e.append("time_on_page",Date.now()-i),e.append("typing_speed",JSON.stringify(l)),e.append("action","send_mail"),n.innerHTML="Отправляю...",r.classList.add("loading"),fetch(adem_ajax.url,{method:"POST",body:e}).then(e=>e.text()).then(e=>{Fancybox.close(!0),r.reset(),r.classList.remove("loading"),n.innerHTML=o,setTimeout(function(){Fancybox.show([{src:"#modal-success",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))})})}document.addEventListener("DOMContentLoaded",function(){Fancybox.bind(),setTelMask(),sendForms()});